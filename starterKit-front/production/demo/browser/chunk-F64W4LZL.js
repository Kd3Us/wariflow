import{a as xe,b as K}from"./chunk-I2BS6FWR.js";import{$b as j,Ab as se,Bb as N,Ca as s,Ga as Y,Jb as le,Ka as k,Kb as J,Lb as C,Mb as de,Na as g,Nb as D,R as te,Ta as d,Ub as me,X as w,Xa as t,Xb as pe,Ya as i,Yb as T,Za as l,Zb as m,_b as A,a as $,ab as E,ac as q,b as Q,ba as y,bb as u,c as ee,ca as _,cb as c,cc as h,da as v,ea as b,ec as B,fc as ce,gc as X,hb as n,ib as x,ic as P,jb as f,jc as G,kc as ue,lc as ge,mc as ve,nc as he,oc as fe,pa as W,pb as re,pc as z,rb as oe,rc as R,sb as ae,sc as U,ya as ie,za as ne}from"./chunk-CDT77BCM.js";var Fe=(o,p)=>({"bg-secondary text-white":o,"bg-gray-200 text-gray-500":p});function Ie(o,p){o&1&&l(0,"app-loader")}function Me(o,p){o&1&&(v(),t(0,"svg",16),l(1,"path",17),i())}function Le(o,p){if(o&1&&(t(0,"span",18),n(1),i()),o&2){let e=c().$implicit;s(),x(e.id)}}function Ve(o,p){if(o&1&&(t(0,"div",9)(1,"div",10),g(2,Me,2,0,"svg",11)(3,Le,2,1,"span",12),i(),t(4,"div",13)(5,"h3",14),n(6),i(),l(7,"p",15),i()()),o&2){let e=p.$implicit,r=c();s(),d("ngClass",re(5,Fe,e.completed||e.active,!e.completed&&!e.active)),s(),d("ngIf",e.completed),s(),d("ngIf",!e.completed),s(3),x(e.title),s(),d("innerHTML",r.getStepDescription(e.id),ie)}}var Se=(()=>{class o{constructor(e){this.loaderService=e,this.steps=[],this.currentStep=1,this.isLoading$=this.loaderService.isLoading$}getStepDescription(e){return{1:"Cr\xE9er votre fiche personne.",2:"Cr\xE9er votre branding.",3:"Cr\xE9er votre Storytelling.",4:"Cr\xE9er votre business model."}[e]||""}static{this.\u0275fac=function(r){return new(r||o)(Y(K))}}static{this.\u0275cmp=k({type:o,selectors:[["app-sidebar"]],inputs:{steps:"steps",currentStep:"currentStep"},decls:13,vars:5,consts:[[4,"ngIf"],[1,"w-80","bg-white","border-r","border-gray-200","min-h-screen"],[1,"p-6"],[1,"mb-6"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"flex","items-center","text-sm","text-gray-600","mb-2"],[1,"text-xs","my-4","text-secondary","font-medium"],[1,"space-y-4"],["class","flex items-start",4,"ngFor","ngForOf"],[1,"flex","items-start"],[1,"flex-shrink-0","w-8","h-8","rounded-full","flex","items-center","justify-center","mr-3","transition-colors","duration-200",3,"ngClass"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","text-sm font-medium",4,"ngIf"],[1,"flex-1"],[1,"text-sm","font-medium","text-gray-900","mb-1"],[1,"text-xs","text-gray-500",3,"innerHTML"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-sm","font-medium"]],template:function(r,a){r&1&&(g(0,Ie,1,0,"app-loader",0),oe(1,"async"),t(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),n(6,"M\xE9thodologie Guid\xE9e"),i(),t(7,"div",5),n(8," Outils & templates pour structurer son projet comme un pro. "),i(),t(9,"div",6),n(10),i()(),t(11,"div",7),g(12,Ve,8,8,"div",8),i()()()),r&2&&(d("ngIf",ae(1,3,a.isLoading$)),s(10),f("Etape ",a.currentStep," sur 4"),s(2),d("ngForOf",a.steps))},dependencies:[D,le,J,C,de,xe],encapsulation:2})}}return o})();var I=class{constructor(){this.nom="",this.prenom="",this.sexe="",this.age=0,this.nationalite="",this.origine="",this.description="",this.parcoursUtilisateur=""}};var M=class{constructor(){this.slogan="",this.typography="",this.valeurs="",this.tonMessage="",this.experienceUtilisateur=""}};var be=[{id:"innocent",name:"L'Innocent",description:"Optimiste, honn\xEAte, pur"},{id:"sage",name:"Le Sage",description:"Sagesse, connaissance, v\xE9rit\xE9"},{id:"explorer",name:"L'Explorateur",description:"Libert\xE9, aventure, d\xE9couverte"},{id:"outlaw",name:"Le Rebelle",description:"R\xE9volution, changement, disruption"},{id:"magician",name:"Le Magicien",description:"Transformation, vision, innovation"},{id:"hero",name:"Le H\xE9ros",description:"Courage, d\xE9termination, triomphe"},{id:"lover",name:"L'Amoureux",description:"Passion, intimit\xE9, engagement"},{id:"jester",name:"Le Bouffon",description:"Plaisir, humour, spontan\xE9it\xE9"},{id:"everyman",name:"L'Homme du Peuple",description:"Appartenance, r\xE9alisme, empathie"},{id:"caregiver",name:"Le Protecteur",description:"Service, compassion, g\xE9n\xE9rosit\xE9"},{id:"ruler",name:"Le Souverain",description:"Contr\xF4le, responsabilit\xE9, leadership"},{id:"creator",name:"Le Cr\xE9ateur",description:"Cr\xE9ativit\xE9, imagination, expression artistique"}],ye=[{id:"marketing",name:"Storytelling Marketing",description:"Structure narrative pour le marketing"},{id:"ux",name:"Storytelling UX",description:"Narration centr\xE9e sur l'exp\xE9rience utilisateur"},{id:"three-acts",name:"Storytelling \xE0 3 actes",description:"Structure classique en trois actes"},{id:"hero-journey",name:"Le Voyage du H\xE9ros",description:"Parcours initiatique du protagoniste"},{id:"problem-solution",name:"Probl\xE8me-Solution",description:"Identification du probl\xE8me et pr\xE9sentation de la solution"}],L=class{constructor(){this.archetypes=[],this.structureNarrative="",this.pitch=""}};var V=class{constructor(){this.market="",this.pricing=""}};var F=(()=>{class o{constructor(){this.http=w(me),this.apiUrl=pe.apiWorkspaceURL,this._currentStep=W(1),this._workspaceData=W({personForm:new I,visualIdentityForm:new M,storytellingForm:new L,businessModelForm:new V}),this._workspaceId=W(null),this._projectId=W(null),this.currentStep=this._currentStep.asReadonly(),this.workspaceData=this._workspaceData.asReadonly(),this.workspaceId=this._workspaceId.asReadonly(),this.steps=[{id:1,title:"Buyers Persona",completed:!1,active:!0},{id:2,title:"Branding",completed:!1,active:!1},{id:3,title:"Storytelling",completed:!1,active:!1},{id:4,title:"Business Model",completed:!1,active:!1}]}nextStep(){this._currentStep()<4&&(this._currentStep.update(e=>e+1),this.updateStepStatus())}previousStep(){this._currentStep()>1&&(this._currentStep.update(e=>e-1),this.updateStepStatus())}goToStep(e){e>=1&&e<=4&&(this._currentStep.set(e),this.updateStepStatus())}updateWorkspaceData(e,r){this._workspaceData.update(a=>Q($({},a),{[e]:r})),this.saveWorkspaceData().subscribe({next:a=>{this._workspaceId()||this._workspaceId.set(a.id)},error:a=>{console.error("Erreur lors de la sauvegarde du workspace:",a)}})}createWorkspace(e){let r={projectId:e,currentStep:this._currentStep(),personForm:this._workspaceData().personForm,visualIdentityForm:this._workspaceData().visualIdentityForm,storytellingForm:this._workspaceData().storytellingForm,businessModelForm:this._workspaceData().businessModelForm};return this.http.post(this.apiUrl,r)}saveWorkspaceData(){let e=this._workspaceId(),r={currentStep:this._currentStep(),personForm:this._workspaceData().personForm,visualIdentityForm:this._workspaceData().visualIdentityForm,storytellingForm:this._workspaceData().storytellingForm,businessModelForm:this._workspaceData().businessModelForm};if(e)return this.http.patch(`${this.apiUrl}/${e}`,r);{let a=this._projectId();return this.createWorkspace(a||void 0)}}getWorkspaceById(e){return this.http.get(`${this.apiUrl}/${e}`)}getWorkspace(){return this.http.get(`${this.apiUrl}`)}getAllWorkspaces(){return this.http.get(this.apiUrl)}loadWorkspaceById(e){this.getWorkspaceById(e).subscribe({next:r=>{this._workspaceId.set(r.id),this._projectId.set(r.projectId),this._currentStep.set(r.currentStep||1),this._workspaceData.set({personForm:r.personForm?Object.assign(new I,r.personForm):new I,visualIdentityForm:r.visualIdentityForm?Object.assign(new M,r.visualIdentityForm):new M,storytellingForm:r.storytellingForm?Object.assign(new L,r.storytellingForm):new L,businessModelForm:r.businessModelForm?Object.assign(new V,r.businessModelForm):new V}),this.updateStepStatus()},error:r=>{console.error("Erreur lors du chargement du workspace:",r)}})}loadWorkspaceFromData(e){this._workspaceId.set(e.id),this._projectId.set(e.projectId),this._currentStep.set(e.currentStep||1),this._workspaceData.set({personForm:e.personForm?Object.assign(new I,e.personForm):new I,visualIdentityForm:e.visualIdentityForm?Object.assign(new M,e.visualIdentityForm):new M,storytellingForm:e.storytellingForm?Object.assign(new L,e.storytellingForm):new L,businessModelForm:e.businessModelForm?Object.assign(new V,e.businessModelForm):new V}),this.updateStepStatus()}setProjectId(e){this._projectId.set(e)}updateStepStatus(){let e=this._currentStep();this.steps.forEach(r=>{r.completed=r.id<e,r.active=r.id===e})}getSteps(){return[...this.steps]}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275prov=te({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function Ne(o,p){if(o&1){let e=E();t(0,"div",27)(1,"div",28)(2,"h3",29),n(3,"Donn\xE9es sauvegard\xE9es sur le backend"),i(),t(4,"button",30),u("click",function(){y(e);let a=c();return _(a.toggleSavedDataDisplay())}),n(5," Masquer "),i()(),t(6,"div",31)(7,"div")(8,"strong"),n(9,"Nom:"),i(),n(10),i(),t(11,"div")(12,"strong"),n(13,"Pr\xE9nom:"),i(),n(14),i(),t(15,"div")(16,"strong"),n(17,"Sexe:"),i(),n(18),i(),t(19,"div")(20,"strong"),n(21,"\xC2ge:"),i(),n(22),i(),t(23,"div")(24,"strong"),n(25,"Nationalit\xE9:"),i(),n(26),i(),t(27,"div")(28,"strong"),n(29,"Origine:"),i(),n(30),i()(),t(31,"div",32)(32,"div")(33,"strong"),n(34,"Description:"),i()(),t(35,"p",33),n(36),i()(),t(37,"div",32)(38,"div")(39,"strong"),n(40,"Parcours utilisateur:"),i()(),t(41,"p",33),n(42),i()()()}if(o&2){let e=c();s(10),f(" ",e.savedPersonData.nom||"Non renseign\xE9",""),s(4),f(" ",e.savedPersonData.prenom||"Non renseign\xE9",""),s(4),f(" ",e.savedPersonData.sexe||"Non renseign\xE9",""),s(4),f(" ",e.savedPersonData.age||"Non renseign\xE9",""),s(4),f(" ",e.savedPersonData.nationalite||"Non renseign\xE9",""),s(4),f(" ",e.savedPersonData.origine||"Non renseign\xE9",""),s(6),x(e.savedPersonData.description||"Non renseign\xE9"),s(6),x(e.savedPersonData.parcoursUtilisateur||"Non renseign\xE9")}}function Te(o,p){if(o&1){let e=E();t(0,"div",34)(1,"button",35),u("click",function(){y(e);let a=c();return _(a.toggleSavedDataDisplay())}),v(),t(2,"svg",36),l(3,"path",37),i(),b(),t(4,"span"),n(5,"Afficher les donn\xE9es sauvegard\xE9es"),i()()()}}var _e=(()=>{class o{constructor(){this.workspaceService=w(F),this.showSavedData=!1,this.savedPersonData=null,this.profileForm=new q({nom:new h("",[m.required,m.minLength(4)]),prenom:new h("",[m.required,m.minLength(4)]),sexe:new h("",[m.required,m.minLength(4)]),age:new h(16,[m.required,m.max(120),m.min(16)]),nationalite:new h("",[m.required,m.minLength(4)]),origine:new h("",[m.required,m.minLength(4)]),description:new h("",[m.required,m.minLength(4)]),parcoursUtilisateur:new h("",[m.required,m.minLength(4)])}),N(()=>{let e=this.workspaceService.workspaceData();e.personForm&&this.loadFormData(e.personForm)})}ngOnInit(){let e=this.workspaceService.workspaceData();e.personForm&&(this.loadFormData(e.personForm),this.updateSavedData(e.personForm))}loadFormData(e){this.profileForm.patchValue({nom:e.nom||"",prenom:e.prenom||"",sexe:e.sexe||"",age:e.age||16,nationalite:e.nationalite||"",origine:e.origine||"",description:e.description||"",parcoursUtilisateur:e.parcoursUtilisateur||""})}updateSavedData(e){(e.nom||e.prenom||e.sexe||e.age||e.nationalite||e.origine||e.description||e.parcoursUtilisateur)&&(this.savedPersonData=e)}toggleSavedDataDisplay(){this.showSavedData=!this.showSavedData}resetForm(){this.profileForm.reset()}saveAndContinue(){this.profileForm.valid&&(this.workspaceService.updateWorkspaceData("personForm",this.profileForm.value),this.workspaceService.nextStep())}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=k({type:o,selectors:[["app-step1"]],decls:66,vars:4,consts:[[1,"animate-fade-in"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","mb-8 p-6 bg-green-50 border border-green-200 rounded-lg",4,"ngIf"],["class","mb-6",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["type","text","formControlName","nom","name","nom","placeholder","Votre nom de famille","required","",1,"input-field"],["type","text","formControlName","prenom","name","prenom","placeholder","Votre pr\xE9nom","required","",1,"input-field"],["formControlName","sexe","name","sexe","required","",1,"input-field"],["value",""],["value","homme"],["value","femme"],["value","autre"],["type","number","formControlName","age","name","age","placeholder","Votre \xE2ge","min","16","max","120","required","",1,"input-field"],[1,"border-t","pt-6"],[1,"text-lg","font-medium","text-gray-900","mb-4"],["type","text","formControlName","nationalite","name","nationalite","placeholder","Votre nationalit\xE9",1,"input-field"],["type","text","formControlName","origine","name","origine","placeholder","Votre origine",1,"input-field"],[1,"mt-6"],["formControlName","description","name","description","placeholder","D\xE9crivez-vous en quelques mots...","rows","4",1,"input-field","resize-none"],["formControlName","parcoursUtilisateur","name","parcoursUtilisateur","placeholder","D\xE9crivez votre parcours et vos exp\xE9riences...","rows","4",1,"input-field","resize-none"],[1,"flex","justify-end","space-x-4","pt-6"],["type","submit",1,"btn-primary","disabled:opacity-50","disabled:cursor-not-allowed","rounded-md","text-sm","p-2",3,"click","disabled"],[1,"mb-8","p-6","bg-green-50","border","border-green-200","rounded-lg"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-green-800"],["type","button",1,"text-green-600","hover:text-green-800","text-sm","font-medium",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","text-sm"],[1,"mt-4","text-sm"],[1,"mt-1","text-gray-700"],[1,"mb-6"],["type","button",1,"flex","items-center","space-x-2","px-4","py-2","text-sm","font-medium","text-green-700","bg-green-100","border","border-green-300","rounded-md","hover:bg-green-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(r,a){r&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Fiche Personne"),i(),t(4,"p",3),n(5," Renseignez vos informations personnelles pour cr\xE9er votre profil. "),i()(),g(6,Ne,43,8,"div",4)(7,Te,6,0,"div",5),t(8,"form",6),u("ngSubmit",function(){return a.saveAndContinue()}),t(9,"div",7)(10,"div")(11,"label",8),n(12," Nom "),t(13,"span",9),n(14,"*"),i()(),l(15,"input",10),i(),t(16,"div")(17,"label",8),n(18," Pr\xE9nom "),t(19,"span",9),n(20,"*"),i()(),l(21,"input",11),i()(),t(22,"div",7)(23,"div")(24,"label",8),n(25," Sexe "),t(26,"span",9),n(27,"*"),i()(),t(28,"select",12)(29,"option",13),n(30,"S\xE9lectionnez votre sexe"),i(),t(31,"option",14),n(32,"Homme"),i(),t(33,"option",15),n(34,"Femme"),i(),t(35,"option",16),n(36,"Autre"),i()()(),t(37,"div")(38,"label",8),n(39," \xC2ge "),t(40,"span",9),n(41,"*"),i()(),l(42,"input",17),i()(),t(43,"div",18)(44,"h3",19),n(45,"Informations compl\xE9mentaires"),i(),t(46,"div",7)(47,"div")(48,"label",8),n(49," Nationalit\xE9 "),i(),l(50,"input",20),i(),t(51,"div")(52,"label",8),n(53," Origine "),i(),l(54,"input",21),i()(),t(55,"div",22)(56,"label",8),n(57," Description "),i(),l(58,"textarea",23),i(),t(59,"div",22)(60,"label",8),n(61," Parcours utilisateur "),i(),l(62,"textarea",24),i()(),t(63,"div",25)(64,"button",26),u("click",function(){return a.saveAndContinue()}),n(65," Enregistrer et continuer "),i()()()()),r&2&&(s(6),d("ngIf",a.showSavedData&&a.savedPersonData),s(),d("ngIf",!a.showSavedData&&a.savedPersonData),s(),d("formGroup",a.profileForm),s(56),d("disabled",!a.profileForm.valid))},dependencies:[D,C,R,B,ge,ve,T,ce,ue,A,j,z,fe,he,U,P,G],encapsulation:2})}}return o})();function Ae(o,p){if(o&1){let e=E();t(0,"div",50)(1,"div",51)(2,"h3",52),n(3,"Donn\xE9es sauvegard\xE9es sur le backend"),i(),t(4,"button",53),u("click",function(){y(e);let a=c();return _(a.toggleSavedDataDisplay())}),n(5," Masquer "),i()(),t(6,"div",54)(7,"div")(8,"strong"),n(9,"Slogan:"),i(),n(10),i(),t(11,"div")(12,"strong"),n(13,"Typography:"),i(),n(14),i(),t(15,"div")(16,"strong"),n(17,"Exp\xE9rience utilisateur:"),i(),n(18),i()(),t(19,"div",55)(20,"div")(21,"strong"),n(22,"Valeurs:"),i()(),t(23,"p",56),n(24),i()(),t(25,"div",55)(26,"div")(27,"strong"),n(28,"Ton & Message:"),i()(),t(29,"p",56),n(30),i()()()}if(o&2){let e=c();s(10),f(" ",e.savedVisualIdentityData.slogan||"Non renseign\xE9",""),s(4),f(" ",e.savedVisualIdentityData.typography||"Non renseign\xE9",""),s(4),f(" ",e.savedVisualIdentityData.experienceUtilisateur||"Non renseign\xE9",""),s(6),x(e.savedVisualIdentityData.valeurs||"Non renseign\xE9"),s(6),x(e.savedVisualIdentityData.tonMessage||"Non renseign\xE9")}}function je(o,p){if(o&1){let e=E();t(0,"div",57)(1,"button",58),u("click",function(){y(e);let a=c();return _(a.toggleSavedDataDisplay())}),v(),t(2,"svg",59),l(3,"path",60),i(),b(),t(4,"span"),n(5,"Afficher les donn\xE9es sauvegard\xE9es"),i()()()}}function qe(o,p){if(o&1){let e=E();t(0,"div",61)(1,"div",62),l(2,"img",63),t(3,"div",64)(4,"p",65),n(5,"Logo actuel"),i(),t(6,"p",20),n(7,'Cliquez sur "T\xE9l\xE9charger un fichier" pour le remplacer'),i()(),t(8,"button",66),u("click",function(){y(e);let a=c();return _(a.removeLogo())}),n(9," Supprimer "),i()()()}if(o&2){let e=c();s(2),d("src",e.getLogoDataUrl(),ne)}}function Be(o,p){if(o&1&&(t(0,"div",67),n(1),i()),o&2){let e=c();s(),f(" Nouveau fichier s\xE9lectionn\xE9: ",e.selectedLogoName," ")}}function Pe(o,p){o&1&&(t(0,"div",68),n(1," Traitement en cours... "),i())}var Ee=(()=>{class o{constructor(){this.workspaceService=w(F),this.selectedLogoName="",this.selectedLogoFile=null,this.currentLogoBase64="",this.currentLogoMimeType="",this.isProcessingLogo=!1,this.showSavedData=!1,this.savedVisualIdentityData=null,this.visualIdentityForm=new q({slogan:new h("",[m.required,m.minLength(3)]),typography:new h("",[m.required,m.minLength(2)]),valeurs:new h("",[m.required,m.minLength(10)]),tonMessage:new h("",[m.required,m.minLength(10)]),experienceUtilisateur:new h("",[m.required])}),N(()=>{let e=this.workspaceService.workspaceData();e.visualIdentityForm&&this.loadFormData(e.visualIdentityForm)})}ngOnInit(){let e=this.workspaceService.workspaceData();e.visualIdentityForm&&(this.loadFormData(e.visualIdentityForm),this.updateSavedData(e.visualIdentityForm))}loadFormData(e){this.visualIdentityForm.patchValue({slogan:e.slogan||"",typography:e.typography||"",valeurs:e.valeurs||"",tonMessage:e.tonMessage||"",experienceUtilisateur:e.experienceUtilisateur||""}),e.logoBase64&&(this.currentLogoBase64=e.logoBase64,this.currentLogoMimeType=e.logoMimeType||"")}updateSavedData(e){(e.slogan||e.typography||e.valeurs||e.tonMessage||e.experienceUtilisateur)&&(this.savedVisualIdentityData=e)}toggleSavedDataDisplay(){this.showSavedData=!this.showSavedData}getLogoDataUrl(){return this.currentLogoBase64&&this.currentLogoMimeType?`data:${this.currentLogoMimeType};base64,${this.currentLogoBase64}`:""}onLogoChange(e){let r=e.target.files[0];if(r){if(r.size>10*1024*1024){alert("Le fichier est trop volumineux. Taille maximale : 10MB");return}if(!r.type.startsWith("image/")){alert("Veuillez s\xE9lectionner un fichier image valide");return}this.selectedLogoName=r.name,this.selectedLogoFile=r,this.convertToBase64(r)}}convertToBase64(e){this.isProcessingLogo=!0;let r=new FileReader;r.onload=()=>{let S=r.result.split(",")[1];this.currentLogoBase64=S,this.currentLogoMimeType=e.type,this.isProcessingLogo=!1},r.onerror=()=>{this.isProcessingLogo=!1,alert("Erreur lors de la lecture du fichier")},r.readAsDataURL(e)}removeLogo(){this.currentLogoBase64="",this.currentLogoMimeType="",this.selectedLogoName="",this.selectedLogoFile=null}resetForm(){this.visualIdentityForm.reset(),this.selectedLogoName="",this.selectedLogoFile=null,this.currentLogoBase64="",this.currentLogoMimeType=""}goBack(){this.workspaceService.previousStep()}saveAndContinue(){return ee(this,null,function*(){if(this.visualIdentityForm.valid)try{let e=Q($({},this.visualIdentityForm.value),{logoBase64:this.currentLogoBase64,logoMimeType:this.currentLogoMimeType,logo:this.selectedLogoFile});this.workspaceService.updateWorkspaceData("visualIdentityForm",e),this.workspaceService.nextStep()}catch(e){console.error("Erreur lors de la sauvegarde:",e)}})}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=k({type:o,selectors:[["app-step2"]],decls:115,vars:8,consts:[[1,"animate-fade-in"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","mb-8 p-6 bg-green-50 border border-green-200 rounded-lg",4,"ngIf"],["class","mb-6",4,"ngIf"],[1,"space-y-8",3,"ngSubmit","formGroup"],[1,"border-b","pb-8"],[1,"text-xl","font-semibold","text-gray-900","mb-6"],[1,"space-y-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["class","mb-4 p-4 bg-gray-50 rounded-lg",4,"ngIf"],[1,"mt-1","flex","justify-center","px-6","pt-5","pb-6","border-2","border-gray-300","border-dashed","rounded-md","hover:border-gray-400","transition-colors"],[1,"space-y-1","text-center"],["stroke","currentColor","fill","none","viewBox","0 0 48 48",1,"mx-auto","h-12","w-12","text-gray-400"],["d","M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"flex","text-sm","text-gray-600"],["for","logo-upload",1,"relative","cursor-pointer","bg-white","rounded-md","font-medium","text-blue-600","hover:text-blue-500","focus-within:outline-none","focus-within:ring-2","focus-within:ring-offset-2","focus-within:ring-blue-500"],["id","logo-upload","name","logo-upload","type","file","accept","image/*",1,"sr-only",3,"change"],[1,"pl-1"],[1,"text-xs","text-gray-500"],["class","mt-2 text-sm text-green-600",4,"ngIf"],["class","mt-2 text-sm text-blue-600",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"text-red-500"],["type","text","formControlName","slogan","placeholder","Votre slogan accrocheur","required","",1,"input-field"],["type","text","formControlName","typography","placeholder","Police de caract\xE8res (ex: Arial, Helvetica)","required","",1,"input-field"],["formControlName","valeurs","placeholder","D\xE9crivez les valeurs de votre projet...","rows","3","required","",1,"input-field","resize-none"],["formControlName","tonMessage","placeholder","Quel ton souhaitez-vous adopter ? Quel message v\xE9hiculer ?","rows","3","required","",1,"input-field","resize-none"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"relative"],["type","radio","id","site-web","formControlName","experienceUtilisateur","value","site-web",1,"peer","sr-only"],["for","site-web",1,"flex","cursor-pointer","rounded-lg","border","bg-white","p-4","shadow-sm","hover:bg-gray-50","peer-checked:border-blue-500","peer-checked:bg-blue-50"],[1,"flex","flex-1","flex-col"],[1,"block","text-sm","font-medium","text-gray-900"],[1,"mt-1","flex","items-center","text-sm","text-gray-500"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-blue-600","opacity-0","peer-checked:opacity-100"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],["type","radio","id","mobile-app","formControlName","experienceUtilisateur","value","mobile-app",1,"peer","sr-only"],["for","mobile-app",1,"flex","cursor-pointer","rounded-lg","border","bg-white","p-4","shadow-sm","hover:bg-gray-50","peer-checked:border-blue-500","peer-checked:bg-blue-50"],["type","radio","id","discord","formControlName","experienceUtilisateur","value","discord",1,"peer","sr-only"],["for","discord",1,"flex","cursor-pointer","rounded-lg","border","bg-white","p-4","shadow-sm","hover:bg-gray-50","peer-checked:border-blue-500","peer-checked:bg-blue-50"],["type","radio","id","autre","formControlName","experienceUtilisateur","value","autre",1,"peer","sr-only"],["for","autre",1,"flex","cursor-pointer","rounded-lg","border","bg-white","p-4","shadow-sm","hover:bg-gray-50","peer-checked:border-blue-500","peer-checked:bg-blue-50"],[1,"flex","justify-between","pt-6","pb-8"],["type","button",1,"flex","items-center","space-x-2","px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2","fill-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"flex","space-x-4"],["type","submit",1,"btn-primary","disabled:opacity-50","disabled:cursor-not-allowed","rounded-md","text-sm","p-2",3,"disabled"],[1,"mb-8","p-6","bg-green-50","border","border-green-200","rounded-lg"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-green-800"],["type","button",1,"text-green-600","hover:text-green-800","text-sm","font-medium",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","text-sm"],[1,"mt-4","text-sm"],[1,"mt-1","text-gray-700"],[1,"mb-6"],["type","button",1,"flex","items-center","space-x-2","px-4","py-2","text-sm","font-medium","text-green-700","bg-green-100","border","border-green-300","rounded-md","hover:bg-green-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mb-4","p-4","bg-gray-50","rounded-lg"],[1,"flex","items-center","space-x-4"],["alt","Logo actuel",1,"h-16","w-16","object-contain","rounded-md","border",3,"src"],[1,"flex-1"],[1,"text-sm","font-medium","text-gray-900"],["type","button",1,"text-red-600","hover:text-red-800","text-sm",3,"click"],[1,"mt-2","text-sm","text-green-600"],[1,"mt-2","text-sm","text-blue-600"]],template:function(r,a){r&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Identit\xE9 Visuelle & Exp\xE9rience"),i(),t(4,"p",3),n(5," D\xE9finissez l'identit\xE9 visuelle de votre projet et l'exp\xE9rience utilisateur souhait\xE9e. "),i()(),g(6,Ae,31,5,"div",4)(7,je,6,0,"div",5),t(8,"form",6),u("ngSubmit",function(){return a.saveAndContinue()}),t(9,"div",7)(10,"h2",8),n(11,"Identit\xE9s Visuelles"),i(),t(12,"div",9)(13,"div")(14,"label",10),n(15," Logo "),i(),g(16,qe,10,1,"div",11),t(17,"div",12)(18,"div",13),v(),t(19,"svg",14),l(20,"path",15),i(),b(),t(21,"div",16)(22,"label",17)(23,"span"),n(24),i(),t(25,"input",18),u("change",function(Ce){return a.onLogoChange(Ce)}),i()(),t(26,"p",19),n(27,"ou glisser-d\xE9poser"),i()(),t(28,"p",20),n(29,"PNG, JPG, GIF jusqu'\xE0 10MB"),i(),g(30,Be,2,1,"div",21)(31,Pe,2,0,"div",22),i()()(),t(32,"div",23)(33,"div")(34,"label",10),n(35," Slogan "),t(36,"span",24),n(37,"*"),i()(),l(38,"input",25),i(),t(39,"div")(40,"label",10),n(41," Typography "),t(42,"span",24),n(43,"*"),i()(),l(44,"input",26),i()(),t(45,"div")(46,"label",10),n(47," Valeurs "),t(48,"span",24),n(49,"*"),i()(),l(50,"textarea",27),i(),t(51,"div")(52,"label",10),n(53," Ton & Message "),t(54,"span",24),n(55,"*"),i()(),l(56,"textarea",28),i()()(),t(57,"div")(58,"h2",8),n(59,"Exp\xE9rience utilisateur"),i(),t(60,"div")(61,"label",10),n(62," Type de plateforme "),t(63,"span",24),n(64,"*"),i()(),t(65,"div",29)(66,"div",30),l(67,"input",31),t(68,"label",32)(69,"span",33)(70,"span",34),n(71,"Site web"),i(),t(72,"span",35),n(73,"Application web"),i()(),v(),t(74,"svg",36),l(75,"path",37),i()()(),b(),t(76,"div",30),l(77,"input",38),t(78,"label",39)(79,"span",33)(80,"span",34),n(81,"Mobile App"),i(),t(82,"span",35),n(83,"Application mobile"),i()(),v(),t(84,"svg",36),l(85,"path",37),i()()(),b(),t(86,"div",30),l(87,"input",40),t(88,"label",41)(89,"span",33)(90,"span",34),n(91,"Discord"),i(),t(92,"span",35),n(93,"Bot Discord"),i()(),v(),t(94,"svg",36),l(95,"path",37),i()()(),b(),t(96,"div",30),l(97,"input",42),t(98,"label",43)(99,"span",33)(100,"span",34),n(101,"Autre"),i(),t(102,"span",35),n(103,"Autre plateforme"),i()(),v(),t(104,"svg",36),l(105,"path",37),i()()()()()(),b(),t(106,"div",44)(107,"button",45),u("click",function(){return a.goBack()}),v(),t(108,"svg",46),l(109,"path",47),i(),b(),t(110,"span"),n(111,"Retour"),i()(),t(112,"div",48)(113,"button",49),n(114," Enregistrer et continuer "),i()()()()()),r&2&&(s(6),d("ngIf",a.showSavedData&&a.savedVisualIdentityData),s(),d("ngIf",!a.showSavedData&&a.savedVisualIdentityData),s(),d("formGroup",a.visualIdentityForm),s(8),d("ngIf",a.currentLogoBase64&&!a.selectedLogoFile),s(8),x(a.currentLogoBase64?"Remplacer le logo":"T\xE9l\xE9charger un fichier"),s(6),d("ngIf",a.selectedLogoName),s(),d("ngIf",a.isProcessingLogo),s(82),d("disabled",!a.visualIdentityForm.valid))},dependencies:[D,C,R,B,T,X,A,j,z,U,P,G],encapsulation:2})}}return o})();function Ge(o,p){if(o&1&&(t(0,"span",36),n(1),i()),o&2){let e=p.$implicit,r=c(3);s(),f(" ",r.getArchetypeName(e)," ")}}function ze(o,p){if(o&1&&(t(0,"div",32)(1,"div")(2,"strong"),n(3,"Arch\xE9types:"),i()(),t(4,"div",34),g(5,Ge,2,1,"span",35),i()()),o&2){let e=c(2);s(5),d("ngForOf",e.savedStorytellingData.archetypes)}}function Re(o,p){if(o&1){let e=E();t(0,"div",26)(1,"div",27)(2,"h3",28),n(3,"Donn\xE9es sauvegard\xE9es sur le backend"),i(),t(4,"button",29),u("click",function(){y(e);let a=c();return _(a.toggleSavedDataDisplay())}),n(5," Masquer "),i()(),t(6,"div",30)(7,"div")(8,"strong"),n(9,"Structure narrative:"),i(),n(10),i(),t(11,"div")(12,"strong"),n(13,"Arch\xE9types s\xE9lectionn\xE9s:"),i(),n(14),i()(),g(15,ze,6,1,"div",31),t(16,"div",32)(17,"div")(18,"strong"),n(19,"Pitch:"),i()(),t(20,"p",33),n(21),i()()()}if(o&2){let e=c();s(10),f(" ",e.getStructureName(e.savedStorytellingData.structureNarrative)||"Non renseign\xE9",""),s(4),f(" ",e.savedStorytellingData.archetypes.length||0,"/3"),s(),d("ngIf",e.savedStorytellingData.archetypes&&e.savedStorytellingData.archetypes.length>0),s(6),x(e.savedStorytellingData.pitch||"Non renseign\xE9")}}function Ue(o,p){if(o&1){let e=E();t(0,"div",37)(1,"button",38),u("click",function(){y(e);let a=c();return _(a.toggleSavedDataDisplay())}),v(),t(2,"svg",39),l(3,"path",40),i(),b(),t(4,"span"),n(5,"Afficher les donn\xE9es sauvegard\xE9es"),i()()()}}function Oe(o,p){if(o&1){let e=E();t(0,"div",41)(1,"input",42),u("change",function(a){y(e);let S=c();return _(S.onArchetypeChange(a))}),i(),t(2,"label",43)(3,"div",44)(4,"span",45),n(5),i(),t(6,"span",46),n(7),i()(),v(),t(8,"svg",47),l(9,"path",48),i()()()}if(o&2){let e=p.$implicit,r=c();s(),d("id",e.id)("value",e.id)("disabled",r.selectedArchetypes.length>=3&&!r.isArchetypeSelected(e.id)),s(),d("for",e.id),s(3),x(e.name),s(2),x(e.description)}}function We(o,p){if(o&1){let e=E();t(0,"span",51),n(1),t(2,"button",52),u("click",function(){let a=y(e).$implicit,S=c(2);return _(S.removeArchetype(a))}),v(),t(3,"svg",53),l(4,"path",54),i()()()}if(o&2){let e=p.$implicit,r=c(2);s(),f(" ",r.getArchetypeName(e)," ")}}function He(o,p){if(o&1&&(t(0,"div",49),g(1,We,5,1,"span",50),i()),o&2){let e=c();s(),d("ngForOf",e.selectedArchetypes)}}function $e(o,p){if(o&1&&(t(0,"div",41),l(1,"input",55),t(2,"label",56)(3,"div",44)(4,"span",45),n(5),i(),t(6,"span",57),n(7),i()(),v(),t(8,"svg",47),l(9,"path",48),i()()()),o&2){let e=p.$implicit;s(),d("id",e.id)("value",e.id),s(),d("for",e.id),s(3),x(e.name),s(2),x(e.description)}}var we=(()=>{class o{constructor(){this.workspaceService=w(F),this.archetypes=be,this.narrativeStructures=ye,this.selectedArchetypes=[],this.showSavedData=!1,this.savedStorytellingData=null,this.storytellingForm=new q({structureNarrative:new h("",[m.required]),pitch:new h("",[m.required,m.minLength(50)])}),N(()=>{let e=this.workspaceService.workspaceData();e.storytellingForm&&this.loadFormData(e.storytellingForm)})}ngOnInit(){let e=this.workspaceService.workspaceData();e.storytellingForm&&(this.loadFormData(e.storytellingForm),this.updateSavedData(e.storytellingForm))}loadFormData(e){this.storytellingForm.patchValue({structureNarrative:e.structureNarrative||"",pitch:e.pitch||""}),e.archetypes&&(this.selectedArchetypes=[...e.archetypes],e.archetypes.forEach(r=>{let a=document.getElementById(r);a&&(a.checked=!0)}))}updateSavedData(e){(e.structureNarrative||e.pitch||e.archetypes&&e.archetypes.length>0)&&(this.savedStorytellingData=e)}toggleSavedDataDisplay(){this.showSavedData=!this.showSavedData}getStructureName(e){let r=this.narrativeStructures.find(a=>a.id===e);return r?r.name:e}onArchetypeChange(e){let r=e.target.value;e.target.checked?this.selectedArchetypes.length<3?this.selectedArchetypes.push(r):e.target.checked=!1:this.selectedArchetypes=this.selectedArchetypes.filter(S=>S!==r)}isArchetypeSelected(e){return this.selectedArchetypes.includes(e)}getArchetypeName(e){let r=this.archetypes.find(a=>a.id===e);return r?r.name:e}removeArchetype(e){this.selectedArchetypes=this.selectedArchetypes.filter(a=>a!==e);let r=document.getElementById(e);r&&(r.checked=!1)}resetForm(){this.storytellingForm.reset(),this.selectedArchetypes=[],this.archetypes.forEach(e=>{let r=document.getElementById(e.id);r&&(r.checked=!1)})}goBack(){this.workspaceService.previousStep()}saveAndContinue(){if(this.storytellingForm.valid&&this.selectedArchetypes.length>0){let e={archetypes:this.selectedArchetypes,structureNarrative:this.storytellingForm.value.structureNarrative,pitch:this.storytellingForm.value.pitch};this.workspaceService.updateWorkspaceData("storytellingForm",e),this.workspaceService.nextStep()}}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=k({type:o,selectors:[["app-step3"]],decls:47,vars:8,consts:[[1,"animate-fade-in"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","mb-8 p-6 bg-green-50 border border-green-200 rounded-lg",4,"ngIf"],["class","mb-6",4,"ngIf"],[1,"space-y-8",3,"ngSubmit","formGroup"],[1,"border-b","pb-8"],[1,"text-xl","font-semibold","text-gray-900","mb-6"],[1,"text-sm","text-gray-600","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","relative",4,"ngFor","ngForOf"],[1,"mt-4","text-sm","text-gray-600"],[1,"font-medium"],["class","mt-2",4,"ngIf"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["formControlName","pitch","placeholder","R\xE9digez votre pitch en quelques phrases percutantes. Pr\xE9sentez votre projet, sa valeur unique et pourquoi il est important...","rows","6","required","",1,"input-field","resize-none"],[1,"mt-2","text-sm","text-gray-500"],[1,"flex","justify-between","pt-6","pb-8"],["type","button",1,"flex","items-center","space-x-2","px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2","fill-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"flex","space-x-4"],["type","submit",1,"btn-primary","disabled:opacity-50","disabled:cursor-not-allowed","rounded-md","text-sm","p-2",3,"disabled"],[1,"mb-8","p-6","bg-green-50","border","border-green-200","rounded-lg"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-green-800"],["type","button",1,"text-green-600","hover:text-green-800","text-sm","font-medium",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","text-sm"],["class","mt-4 text-sm",4,"ngIf"],[1,"mt-4","text-sm"],[1,"mt-1","text-gray-700"],[1,"mt-1","flex","flex-wrap","gap-2"],["class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"mb-6"],["type","button",1,"flex","items-center","space-x-2","px-4","py-2","text-sm","font-medium","text-green-700","bg-green-100","border","border-green-300","rounded-md","hover:bg-green-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"relative"],["type","checkbox",1,"peer","sr-only",3,"change","id","value","disabled"],[1,"flex","cursor-pointer","rounded-lg","border","bg-white","p-4","shadow-sm","hover:bg-gray-50","peer-checked:border-blue-500","peer-checked:bg-blue-50","peer-disabled:opacity-50","peer-disabled:cursor-not-allowed",3,"for"],[1,"flex","flex-1","flex-col"],[1,"block","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-xs","text-gray-500"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-blue-600","opacity-0","peer-checked:opacity-100"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"mt-2"],["class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 mr-2",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800","mr-2"],["type","button",1,"ml-1","text-blue-600","hover:text-blue-800",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"h-3","w-3"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],["type","radio","formControlName","structureNarrative",1,"peer","sr-only",3,"id","value"],[1,"flex","cursor-pointer","rounded-lg","border","bg-white","p-4","shadow-sm","hover:bg-gray-50","peer-checked:border-blue-500","peer-checked:bg-blue-50",3,"for"],[1,"mt-1","text-sm","text-gray-500"]],template:function(r,a){r&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Storytelling"),i(),t(4,"p",3),n(5," D\xE9finissez votre strat\xE9gie narrative et cr\xE9ez un storytelling captivant pour votre projet. "),i()(),g(6,Re,22,4,"div",4)(7,Ue,6,0,"div",5),t(8,"form",6),u("ngSubmit",function(){return a.saveAndContinue()}),t(9,"div",7)(10,"h2",8),n(11,"Arch\xE9types"),i(),t(12,"p",9),n(13,"S\xE9lectionnez jusqu'\xE0 3 arch\xE9types qui correspondent \xE0 votre marque ou projet."),i(),t(14,"div",10),g(15,Oe,10,6,"div",11),i(),t(16,"div",12)(17,"span",13),n(18),i(),g(19,He,2,1,"div",14),i()(),t(20,"div",7)(21,"h2",8),n(22,"Structure Narrative du pitch"),i(),t(23,"p",9),n(24,"Choisissez la structure narrative qui convient le mieux \xE0 votre storytelling."),i(),t(25,"div",15),g(26,$e,10,5,"div",11),i()(),t(27,"div")(28,"h2",8),n(29,"Pitch"),i(),t(30,"div")(31,"label",16),n(32," Votre Pitch "),t(33,"span",17),n(34,"*"),i()(),l(35,"textarea",18),t(36,"p",19),n(37," Un bon pitch doit \xEAtre clair, concis et captivant. Il doit expliquer ce que vous faites, pour qui, et pourquoi c'est important. "),i()()(),t(38,"div",20)(39,"button",21),u("click",function(){return a.goBack()}),v(),t(40,"svg",22),l(41,"path",23),i(),b(),t(42,"span"),n(43,"Retour"),i()(),t(44,"div",24)(45,"button",25),n(46," Enregistrer et continuer "),i()()()()()),r&2&&(s(6),d("ngIf",a.showSavedData&&a.savedStorytellingData),s(),d("ngIf",!a.showSavedData&&a.savedStorytellingData),s(),d("formGroup",a.storytellingForm),s(7),d("ngForOf",a.archetypes),s(3),f("S\xE9lectionn\xE9s: ",a.selectedArchetypes.length,"/3"),s(),d("ngIf",a.selectedArchetypes.length>0),s(7),d("ngForOf",a.narrativeStructures),s(19),d("disabled",!a.storytellingForm.valid||a.selectedArchetypes.length===0))},dependencies:[D,J,C,R,B,T,X,A,j,z,U,P,G],encapsulation:2})}}return o})();function Qe(o,p){if(o&1){let e=E();t(0,"div",19)(1,"div",20)(2,"h3",21),n(3,"Donn\xE9es sauvegard\xE9es sur le backend"),i(),t(4,"button",22),u("click",function(){y(e);let a=c();return _(a.toggleSavedDataDisplay())}),n(5," Masquer "),i()(),t(6,"div",23)(7,"div")(8,"strong"),n(9,"Market:"),i()(),t(10,"p",24),n(11),i()(),t(12,"div",23)(13,"div")(14,"strong"),n(15,"Pricing:"),i()(),t(16,"p",24),n(17),i()()()}if(o&2){let e=c();s(11),x(e.savedBusinessModelData.market||"Non renseign\xE9"),s(6),x(e.savedBusinessModelData.pricing||"Non renseign\xE9")}}function Ye(o,p){if(o&1){let e=E();t(0,"div",25)(1,"button",26),u("click",function(){y(e);let a=c();return _(a.toggleSavedDataDisplay())}),v(),t(2,"svg",27),l(3,"path",28),i(),b(),t(4,"span"),n(5,"Afficher les donn\xE9es sauvegard\xE9es"),i()()()}}var ke=(()=>{class o{constructor(){this.workspaceService=w(F),this.showSavedData=!1,this.savedBusinessModelData=null,this.businessModelForm=new q({market:new h("",[m.required,m.minLength(10)]),pricing:new h("",[m.required,m.minLength(10)])}),N(()=>{let e=this.workspaceService.workspaceData();e.businessModelForm&&this.loadFormData(e.businessModelForm)})}ngOnInit(){let e=this.workspaceService.workspaceData();e.businessModelForm&&(this.loadFormData(e.businessModelForm),this.updateSavedData(e.businessModelForm))}loadFormData(e){this.businessModelForm.patchValue({market:e.market||"",pricing:e.pricing||""})}updateSavedData(e){(e.market||e.pricing)&&(this.savedBusinessModelData=e)}toggleSavedDataDisplay(){this.showSavedData=!this.showSavedData}goBack(){this.workspaceService.previousStep()}processAndSetup(){this.businessModelForm.valid&&(this.workspaceService.updateWorkspaceData("businessModelForm",this.businessModelForm.value),console.log("Workspace setup completed!",this.workspaceService.workspaceData()))}resetForm(){this.businessModelForm.reset()}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=k({type:o,selectors:[["app-step4"]],decls:37,vars:4,consts:[[1,"animate-fade-in"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","mb-8 p-6 bg-green-50 border border-green-200 rounded-lg",4,"ngIf"],["class","mb-6",4,"ngIf"],[1,"space-y-8",3,"ngSubmit","formGroup"],[1,"text-xl","font-semibold","text-gray-900","mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["formControlName","market","placeholder","R\xE9digez votre market...","rows","6","required","",1,"input-field","resize-none"],[1,"text-xl","font-semibold","text-gray-900","my-6"],["formControlName","pricing","placeholder","R\xE9digez votre pricing...","rows","6","required","",1,"input-field","resize-none"],[1,"flex","justify-between","pt-6","pb-8"],["type","button",1,"flex","items-center","space-x-2","px-4","py-2","text-sm","font-medium","text-gray-700","btn-secondary","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2","fill-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"flex","space-x-4"],["type","submit",1,"btn-primary","disabled:opacity-50","disabled:cursor-not-allowed","rounded-md","text-sm","p-2",3,"disabled"],[1,"mb-8","p-6","bg-green-50","border","border-green-200","rounded-lg"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-green-800"],["type","button",1,"text-green-600","hover:text-green-800","text-sm","font-medium",3,"click"],[1,"mt-4","text-sm"],[1,"mt-1","text-gray-700"],[1,"mb-6"],["type","button",1,"flex","items-center","space-x-2","px-4","py-2","text-sm","font-medium","text-green-700","bg-green-100","border","border-green-300","rounded-md","hover:bg-green-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(r,a){r&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Businesss model"),i(),t(4,"p",3),n(5," Formaliser ton business model, c'est poser les bases solides de ton activit\xE9. En quelques minutes, clarifie ton offre, ton public cible et ta strat\xE9gie. C'est simple, rapide et essentiel pour faire grandir ton id\xE9e. "),i()(),g(6,Qe,18,2,"div",4)(7,Ye,6,0,"div",5),t(8,"form",6),u("ngSubmit",function(){return a.processAndSetup()}),t(9,"div",1)(10,"div")(11,"h2",7),n(12,"Market"),i(),t(13,"div")(14,"label",8),n(15," Analyse du march\xE9 "),t(16,"span",9),n(17,"*"),i()(),l(18,"textarea",10),i()(),t(19,"div")(20,"h2",11),n(21,"Pricing"),i(),t(22,"div")(23,"label",8),n(24," Votre Pricing "),t(25,"span",9),n(26,"*"),i()(),l(27,"textarea",12),i()()(),t(28,"div",13)(29,"button",14),u("click",function(){return a.goBack()}),v(),t(30,"svg",15),l(31,"path",16),i(),b(),t(32,"span"),n(33,"Retour"),i()(),t(34,"div",17)(35,"button",18),n(36," Enregistrer et continuer "),i()()()()()),r&2&&(s(6),d("ngIf",a.showSavedData&&a.savedBusinessModelData),s(),d("ngIf",!a.showSavedData&&a.savedBusinessModelData),s(),d("formGroup",a.businessModelForm),s(27),d("disabled",!a.businessModelForm.valid))},dependencies:[D,C,R,B,T,A,j,z,U,P,G],encapsulation:2})}}return o})();function Je(o,p){o&1&&l(0,"app-step1")}function Xe(o,p){o&1&&l(0,"app-step2")}function Ke(o,p){o&1&&l(0,"app-step3")}function Ze(o,p){o&1&&l(0,"app-step4")}var ri=(()=>{class o{constructor(e){this.loaderService=e,this.workspaceService=w(F),this.currentStep=this.workspaceService.currentStep,this.steps=se(()=>this.workspaceService.getSteps())}ngOnInit(){this.loaderService.startLoading(),this.workspaceService.getAllWorkspaces().subscribe({next:e=>{if(e&&e.length>0){let r=e[0];this.workspaceService.loadWorkspaceFromData(r)}else this.workspaceService.createWorkspace().subscribe({next:r=>{console.log("Nouveau workspace cr\xE9\xE9:",r),this.workspaceService.loadWorkspaceFromData(r)},error:r=>{console.error("Erreur lors de la cr\xE9ation du workspace:",r)}});this.loaderService.stopLoading()},error:e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des workspaces:",e),this.workspaceService.createWorkspace().subscribe({next:r=>{console.log("Nouveau workspace cr\xE9\xE9 apr\xE8s erreur:",r),this.workspaceService.loadWorkspaceFromData(r)},error:r=>{console.error("Erreur lors de la cr\xE9ation du workspace:",r)}}),this.loaderService.stopLoading()}})}static{this.\u0275fac=function(r){return new(r||o)(Y(K))}}static{this.\u0275cmp=k({type:o,selectors:[["app-methodology"]],decls:9,vars:6,consts:[[1,"min-h-screen","bg-gray-50"],[1,"flex","h-screen"],[3,"steps","currentStep"],[1,"flex-1","overflow-y-auto"],[1,"max-w-4xl","mx-auto","p-8","pb-16"],[4,"ngIf"]],template:function(r,a){r&1&&(t(0,"div",0)(1,"div",1),l(2,"app-sidebar",2),t(3,"main",3)(4,"div",4),g(5,Je,1,0,"app-step1",5)(6,Xe,1,0,"app-step2",5)(7,Ke,1,0,"app-step3",5)(8,Ze,1,0,"app-step4",5),i()()()()),r&2&&(s(2),d("steps",a.steps())("currentStep",a.currentStep()),s(3),d("ngIf",a.currentStep()===1),s(),d("ngIf",a.currentStep()===2),s(),d("ngIf",a.currentStep()===3),s(),d("ngIf",a.currentStep()===4))},dependencies:[D,C,Se,_e,Ee,we,ke],encapsulation:2})}}return o})();export{ri as MethodologyComponent};
